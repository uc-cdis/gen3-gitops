ambassador:
  jupyterNamespace: "jupyter-pods"
arborist:
  replicaCount: 4
  autoscaling:
    enabled: false
    maxReplicas: 2
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/arborist
    tag: "2025.07"
audit:
  enabled: false
  externalSecrets:
    auditG3auto: bloodv2-audit-g3auto
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::562749638216:role/bloodv2--bloodv2-helm--audit-sqs-receiver
aws-es-proxy:
  enabled: true
  esEndpoint: vpc-bloodv2-gen3-metadata-2-hmyheohzgcr36i5nlv2l4bzkve.us-east-1.es.amazonaws.com
  image:
    repository: quay.io/cdis/aws-es-proxy
    tag: "v1.3.1"
dashboard:
  dashboardConfig:
    bucket: dashboard-562749638216-bloodv2-gen3
    prefix: data.bloodpac.org
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/gen3-statics
    tag: "2025.07"
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::562749638216:role/bloodv2--bloodv2-helm--dashboard-access
etl:
  esEndpoint: elasticsearch
  etlMapping:
    mappings:
      - name: bloodpac_study
        doc_type: study
        type: aggregator
        root: study
        props:
          - name: project_id
          - name: submitter_id
          - name: study_setup
          - name: study_objective
          - name: study_design
          - name: study_description
          - name: data_description
          - name: associated_study
        aggregated_props:
          - name: _cases_count
            path: cases
            fn: count
          - name: _biospecimens_count
            path: cases.biospecimens
            fn: count
          - name: _samples_count
            path: cases.biospecimens.samples
            fn: count
          - name: _aliquots_count
            path: cases.biospecimens.samples.aliquots
            fn: count
          - name: _analytes_count
            path: cases.biospecimens.samples.aliquots.analytes
            fn: count
          - name: _read_groups_count
            path: cases.biospecimens.samples.aliquots.analytes.read_groups
            fn: count
          - name: _immunoassays_count
            path: cases.biospecimens.samples.aliquots.analytes.immunoassays
            fn: count
          - name: _cell_images_count
            path: cases.biospecimens.samples.aliquots.analytes.cell_images
            fn: count
          - name: _pcr_assays_count
            path: cases.biospecimens.samples.aliquots.analytes.pcr_assays
            fn: count
          - name: _pcr_assay_files_count
            path: cases.biospecimens.samples.aliquots.analytes.pcr_assays.pcr_assay_files
            fn: count
          - name: _mass_cytometry_assays_count
            path: cases.biospecimens.samples.aliquots.analytes.mass_cytometry_assays
            fn: count
          - name: _mass_cytometry_images_count
            path: cases.biospecimens.samples.aliquots.analytes.mass_cytometry_assays.mass_cytometry_images
            fn: count
          - name: _slide_images_count
            path: cases.biospecimens.samples.aliquots.slide_images
            fn: count
          - name: _submitted_aligned_reads_files_count
            path: cases.biospecimens.samples.aliquots.analytes.read_groups.submitted_aligned_reads_files
            fn: count
          - name: _submitted_methylations_count
            path: cases.biospecimens.samples.aliquots.analytes.submitted_methylation_files
            fn: count
          - name: _submitted_somatic_mutations_count
            path: cases.biospecimens.samples.aliquots.analytes.read_groups.submitted_somatic_mutations
            fn: count
          - name: _submitted_unaligned_reads_files_count
            path: cases.biospecimens.samples.aliquots.analytes.read_groups.submitted_unaligned_reads_files
            fn: count
        parent_props:
          - path: projects[project_code:code,project_name:name,project_investigator_affiliation:investigator_affiliation]
      - name: bloodpac_case
        doc_type: case
        type: aggregator
        root: case
        props:
          - name: project_id
          - name: submitter_id
          - name: index_date
          - name: lost_to_followup
        flatten_props:
          - path: demographics
            props:
              - name: gender
              - name: days_to_birth
              - name: race
              - name: ethnicity
        aggregated_props:
          - name: _biospecimens_count
            path: biospecimens
            fn: count
          - name: _samples_count
            path: biospecimens.samples
            fn: count
          - name: _aliquots_count
            path: biospecimens.samples.aliquots
            fn: count
          - name: _analytes_count
            path: biospecimens.samples.aliquots.analytes
            fn: count
          - name: _read_groups_count
            path: biospecimens.samples.aliquots.analytes.read_groups
            fn: count
          - name: _immunoassays_count
            path: biospecimens.samples.aliquots.analytes.immunoassays
            fn: count
          - name: _cell_images_count
            path: biospecimens.samples.aliquots.analytes.cell_images
            fn: count
          - name: _pcr_assays_count
            path: biospecimens.samples.aliquots.analytes.pcr_assays
            fn: count
          - name: _pcr_assay_files_count
            path: biospecimens.samples.aliquots.analytes.pcr_assays.pcr_assay_files
            fn: count
          - name: _mass_cytometry_assays_count
            path: biospecimens.samples.aliquots.analytes.mass_cytometry_assays
            fn: count
          - name: _mass_cytometry_images_count
            path: biospecimens.samples.aliquots.analytes.mass_cytometry_assays.mass_cytometry_images
            fn: count
          - name: _slide_images_count
            path: biospecimens.samples.aliquots.slide_images
            fn: count
          - name: _submitted_aligned_reads_files_count
            path: biospecimens.samples.aliquots.analytes.read_groups.submitted_aligned_reads_files
            fn: count
          - name: _submitted_methylations_count
            path: biospecimens.samples.aliquots.analytes.submitted_methylation_files
            fn: count
          - name: _submitted_somatic_mutations_count
            path: biospecimens.samples.aliquots.analytes.read_groups.submitted_somatic_mutations
            fn: count
          - name: _submitted_unaligned_reads_files_count
            path: biospecimens.samples.aliquots.analytes.read_groups.submitted_unaligned_reads_files
            fn: count
        joining_props:
          - index: file
            join_on: _case_id
            props:
              - name: data_format
                src: data_format
                fn: set
              - name: data_type
                src: data_type
                fn: set
      - name: bloodpac_biospecimen
        doc_type: biospecimen
        type: aggregator
        root: biospecimen
        props:
          - name: project_id
          - name: submitter_id
          - name: biospecimen_anatomic_site
          - name: biospecimen_type
          - name: blood_tube_type
          - name: days_to_collection
          - name: days_to_procurement
          - name: method_of_procurement
          - name: procured_or_purchased
          - name: tissue_type
          - name: disease_type
          - name: shipping_temperature
          - name: tumor_code
          - name: tumor_morphology
          - name: days_to_collection_other
          - name: days_to_procurement_other
          - name: biospecimen_volume
          - name: blood_draw_method
          - name: clinical_site
          - name: primary_site
          - name: tumor_descriptor
          - name: procurement_temperature
          - name: metastatic_bone
          - name: metastatic_visceral
          - name: metastatic_lymph_node
          - name: biospecimen_weight
        flatten_props:
          - path: samples
            props:
              - name: composition
              - name: hours_to_fractionation_lower
              - name: hours_to_fractionation_upper
              - name: blood_fractionation_method
              - name: sample_volume
              - name: storage_agitation
              - name: storage_agitation_hours
            sorted_by: updated_datetime, desc
      - name: bloodpac_aliquot
        doc_type: aliquot
        type: aggregator
        root: aliquot
        props:
          - name: project_id
          - name: submitter_id
          - name: aliquot_container
          - name: clinical_or_contrived
          - name: preservation_method
          - name: storage_temperature
          - name: aliquot_volume
          - name: methanol_added
          - name: hours_to_freezer_lower
          - name: hours_to_freezer_lower_other
          - name: hours_to_freezer_upper
          - name: hours_to_freezer_upper_other
          - name: aliquot_quantity
          - name: contrivance_method
        flatten_props:
          - path: analytes
            props:
              - name: analyte_isolation_method
              - name: analyte_type
              - name: cell_type
              - name: cell_identifier
              - name: frame_identifier
              - name: run_identifier
              - name: days_to_assay
            sorted_by: updated_datetime, desc
      - name: bloodpac_read_group
        doc_type: read_group
        type: aggregator
        root: read_group
        props:
          - name: project_id
          - name: submitter_id
          - name: instrument_model
          - name: is_paired_end
          - name: library_preparation_kit_name
          - name: library_preparation_kit_vendor
          - name: library_preparation_kit_version
          - name: library_strategy
          - name: platform
          - name: read_group_name
          - name: read_length_lower
          - name: read_length_upper
          - name: barcoding_applied
          - name: target_capture_kit_name
          - name: library_name
          - name: library_selection
          - name: sequencing_center
          - name: library_strand
          - name: flow_cell_barcode
          - name: adapter_sequence
          - name: library_preparation_kit_catalog_number
          - name: cycles
      - name: bloodpac_medical_history
        doc_type: medical_history
        type: aggregator
        root: case
        props:
          - name: project_id
          - name: submitter_id
        flatten_props:
          - path: comorbidities
            props:
              - name: comorbidity
              - name: days_to_comorbidity
            sorted_by: updated_datetime, desc
          - path: diagnoses
            props:
              - name: age_at_diagnosis
              - name: best_overall_response
              - name: classification_of_tumor
              - name: days_to_best_overall_response
              - name: days_to_diagnosis
              - name: morphology
              - name: primary_diagnosis
              - name: prior_treatment
              - name: tissue_or_organ_of_origin
              - name: tumor_grade
              - name: ajcc_clinical_stage
              - name: overall_survival
              - name: progression_free_survival
              - name: ajcc_pathologic_stage
              - name: method_of_diagnosis
              - name: ajcc_pathologic_n
              - name: ajcc_pathologic_t
              - name: ajcc_pathologic_m
            sorted_by: updated_datetime, desc
          - path: diagnostic_tests
            props:
              - name: analyte_name
              - name: days_to_test
              - name: test_result
              - name: test_sample_composition
              - name: test_type
              - name: test_units
              - name: test_value
            sorted_by: updated_datetime, desc
          - path: followups
            props:
              - name: days_to_followup
              - name: time_from_alcohol
              - name: time_from_biopsy
              - name: time_from_exercise
              - name: time_from_food
              - name: time_from_physical_trauma
              - name: time_from_recreational_drugs
              - name: time_from_tobacco
              - name: time_from_treatment
            sorted_by: updated_datetime, desc
          - path: treatments
            props:
              - name: therapeutic_agents
              - name: treatment_intent_type
              - name: treatment_type
              - name: days_to_treatment_start
              - name: regimen_or_line_of_therapy
              - name: days_to_treatment_end
              - name: treatment_class
              - name: dosage
              - name: dosage_units
            sorted_by: updated_datetime, desc
      - name: bloodpac_publication
        doc_type: publication
        type: aggregator
        root: publication
        props:
          - name: project_id
          - name: accession_id
          - name: title
          - name: abstract
          - name: authors
          - name: author_affiliations
          - name: journal
          - name: publication_url
          - name: data_availability_date
          - name: data_description
          - name: sponsors
          - name: study_codes
          - name: condition
          - name: study_type
          - name: websites
      - name: bloodpac_file
        doc_type: file
        type: collector
        root: None
        category: data_file
        props:
          - name: submitter_id
          - name: object_id
          - name: md5sum
          - name: file_name
          - name: file_size
          - name: data_format
          - name: data_type
          - name: data_category
          - name: state
        injecting_props:
          case:
            props:
              - name: _case_id
                src: id
              - name: project_id
fence:
  usersync:
    usersync: true
    userYamlS3Path: s3://cdis-gen3-users/bpa/user.yaml
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::562749638216:role/bloodv2--bloodv2-helm--audit-sqs-sender
  replicaCount: 4
  autoscaling:
    enabled: false
    maxReplicas: 2
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  externalSecrets:
    createK8sGoogleAppSecrets: true
    fenceConfig: bloodv2-fence-config
    fenceJwtKeys: bloodv2-fence-jwt
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/fence
    tag: 2025.08
fluentd:
  enabled: true
  image:
    repository: fluent/fluentd-kubernetes-daemonset
    tag: v1.15.3-debian-cloudwatch-1.0
global:
  pdb: true
  aws:
    account: "562749638216"
    awsEsProxyRole: bloodv2--bloodv2-helm--es-access
    enabled: true
    hatchery_role: bloodv2--bloodv2-helm--hatchery-sa
    secretStoreServiceAccount:
      enabled: true
      roleArn: arn:aws:iam::562749638216:role/bloodv2--bloodv2-helm--external-secrets-sa
  dev: false
  dictionaryUrl: https://s3.amazonaws.com/dictionary-artifacts/bpadictionary/0.8.9/schema.json
  dispatcherJobNum: "10"
  environment: bloodv2
  externalSecrets:
    deploy: true
    createSlackWebhookSecret: true
    slackWebhookSecretName: "bloodv2-slack-webhook" #pragma: allowlist secret
  hostname: data.bloodpac.org
  fenceURL: https://data.bloodpac.org/user
  # netPolicy:
  #   enabled: true
  #   dbSubnet:
  #     - 172.24.3.0/24
  #     - 172.24.2.0/24
  publicDataSets: true
  portalApp: gitops
  postgres:
    dbCreate: false
  revproxyArn: arn:aws:acm:us-east-1:562749638216:certificate/8cfa5317-9c44-4d6a-9af8-8373952b4230
guppy:
  authFilterField: auth_resource_path
  replicaCount: 4
  autoscaling:
    enabled: false
    maxReplicas: 2
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  configIndex: bloodpac_array-config
  enabled: true
  esEndpoint: http://elasticsearch:9200
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/guppy
    tag: "2025.07"
  indices:
    - index: bloodpac_study
      type: study
    - index: bloodpac_case
      type: case
    - index: bloodpac_medical_history
      type: medical_history
    - index: bloodpac_biospecimen
      type: biospecimen
    - index: bloodpac_aliquot
      type: aliquot
    - index: bloodpac_read_group
      type: read_group
    - index: bloodpac_publication
      type: publication
    - index: bloodpac_file
      type: file
hatchery:
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/hatchery
    tag: "2025.07"
  hatchery:
    json: |
      {
        "user-namespace": "jupyter-pods",
        "sub-dir": "/lw-workspace",
        "user-volume-size": "20Gi",
        "sidecar": {
          "cpu-limit": "0.8",
          "memory-limit": "256Mi",
          "image": "707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/gen3fuse-sidecar:2022.08",
          "env": {
            "NAMESPACE": "default",
            "HOSTNAME": "data.bloodpac.org"
          },
          "args": [],
          "command": [
            "/bin/bash",
            "/sidecarDockerrun.sh"
          ],
          "lifecycle-pre-stop": [
            "su",
            "-c",
            "echo test",
            "-s",
            "/bin/sh",
            "root"
          ]
        },
        "containers": [
          {
            "target-port": 8787,
            "cpu-limit": "0.8",
            "memory-limit": "512Mi",
            "name": "R Studio",
            "image": "heliumdatastage/rstudio-server:1",
            "env": {
              "DISABLE_AUTH": "true"
            },
            "args": [],
            "path-rewrite": "/",
            "use-tls": "false",
            "ready-probe": "/"
          },
          {
            "target-port": 8888,
            "cpu-limit": "0.8",
            "memory-limit": "512Mi",
            "name": "Jupyter Notebook Bio Python",
            "image": "quay.io/occ_data/jupyternotebook:1.9.0",
            "env": {
              "NAMESPACE": "default"
            },
            "args": [
              "--NotebookApp.base_url=/lw-workspace/proxy/",
              "--NotebookApp.password=''",
              "--NotebookApp.token=''"
            ],
            "command": [
              "start-notebook.sh"
            ],
            "path-rewrite": "/lw-workspace/proxy/",
            "use-tls": "false",
            "ready-probe": "/lw-workspace/proxy/",
            "lifecycle-post-start": [
              "/bin/sh",
              "-c",
              "export IAM=`whoami`; rm -rf /home/$IAM/pd/dockerHome; ln -s $(pwd) /home/$IAM/pd/dockerHome; mkdir -p /home/$IAM/.jupyter/custom; echo \"define(['base/js/namespace'], function(Jupyter){Jupyter._target = '_self';})\" >/home/$IAM/.jupyter/custom/custom.js; ln -s /data /home/$IAM/pd/; true"
            ],
            "user-uid": 1000,
            "fs-gid": 100,
            "user-volume-location": "/home/jovyan/pd"
          },
          {
            "target-port": 8888,
            "cpu-limit": "4.0",
            "memory-limit": "15512Mi",
            "name": "Jupyter Notebook Power Python",
            "image": "quay.io/occ_data/jupyternotebook:1.7.2",
            "env": {
              "NAMESPACE": "default"
            },
            "args": [
              "--NotebookApp.base_url=/lw-workspace/proxy/",
              "--NotebookApp.password=''",
              "--NotebookApp.token=''"
            ],
            "command": [
              "start-notebook.sh"
            ],
            "path-rewrite": "/lw-workspace/proxy/",
            "use-tls": "false",
            "ready-probe": "/lw-workspace/proxy/",
            "lifecycle-post-start": [
              "/bin/sh",
              "-c",
              "export IAM=`whoami`; rm -rf /home/$IAM/pd/dockerHome; ln -s $(pwd) /home/$IAM/pd/dockerHome; mkdir -p /home/$IAM/.jupyter/custom; echo \"define(['base/js/namespace'], function(Jupyter){Jupyter._target = '_self';})\" >/home/$IAM/.jupyter/custom/custom.js; ln -s /data /home/$IAM/pd/; true"
            ],
            "user-uid": 1000,
            "fs-gid": 100,
            "user-volume-location": "/home/jovyan/pd"
          }
        ]
      }
indexd:
  replicaCount: 4
  autoscaling:
    enabled: false
    maxReplicas: 2
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  externalSecrets:
    serviceCreds: bloodv2-indexd-service-creds
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/indexd
    tag: "2025.07"
jupyterhub:
  enabled: true
  image:
    repository: quay.io/occ_data/jupyterhub
    tag: "2025.07"
manifestservice:
  enabled: true
  externalSecrets:
    manifestserviceG3auto: bloodv2-manifestservice-g3auto
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/manifestservice
    tag: "2025.07"
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::562749638216:role/bloodv2--bloodv2-helm--manifest-service-sa
metadata:
  enabled: true
  esEndpoint: http://elasticsearch:9200
  externalSecrets:
    metadataG3auto: bloodv2-metadata-g3auto
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/metadata-service
    tag: "2025.07"
mutatingWebhook:
  enabled: true
peregrine:
  replicaCount: 4
  autoscaling:
    enabled: false
    maxReplicas: 2
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/peregrine
    tag: "2025.07"
portal:
  replicaCount: 4
  autoscaling:
    enabled: false
    maxReplicas: 2
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  customConfig:
    enabled: true
    dir: "bloodv2/data.bloodpac.org/values/portal/"
    repo: https://github.com/uc-cdis/gen3-gitops.git
    branch: master
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/data-portal
    tag: "2025.09"
revproxy:
  replicaCount: 4
  autoscaling:
    enabled: false
    maxReplicas: 2
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/nginx
    tag: "2025.07"
  ingress:
    aws:
      group: bloodv2
sheepdog:
  replicaCount: 4
  autoscaling:
    enabled: false
    maxReplicas: 2
    minReplicas: 1
    targetCPUUtilizationPercentage: 40
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/sheepdog
    tag: "2025.07"
sower:
  enabled: true
  externalSecrets:
    createK8sPelicanServiceSecret: true
    sowerjobsG3auto: bloodv2-sower-jobs-g3auto
    createK8sSowerJobsSecret: false
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/sower
    tag: "2025.07"
  sowerConfig:
    - action: ingest-metadata-manifest
      activeDeadlineSeconds: 86400
      container:
        cpu-limit: "1"
        env:
          - name: GEN3_HOSTNAME
            valueFrom:
              configMapKeyRef:
                key: hostname
                name: manifest-global
        image: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/metadata-manifest-ingestion:2025.07
        memory-limit: 1Gi
        name: job-task
        pull_policy: Always
        volumeMounts:
          - mountPath: /creds.json
            name: creds-volume
            readOnly: true
            subPath: creds.json
      name: ingest-metadata-manifest
      restart_policy: Never
      serviceAccountName: jobs-data-bloodpac-org
      volumes:
        - name: creds-volume
          secret:
            secretName: sower-jobs-g3auto
    - action: get-dbgap-metadata
      container:
        cpu-limit: "1"
        env: []
        image: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/get-dbgap-metadata:2025.07
        memory-limit: 1Gi
        name: job-task
        pull_policy: Always
        volumeMounts:
          - mountPath: /creds.json
            name: creds-volume
            readOnly: true
            subPath: creds.json
      name: get-dbgap-metadata
      restart_policy: Never
      serviceAccountName: jobs-data-bloodpac-org
      volumes:
        - name: creds-volume
          secret:
            secretName: sower-jobs-g3auto
    - action: index-object-manifest
      activeDeadlineSeconds: 86400
      container:
        cpu-limit: "1"
        env:
          - name: GEN3_HOSTNAME
            valueFrom:
              configMapKeyRef:
                key: hostname
                name: manifest-global
        image: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/manifest-indexing:2025.07
        memory-limit: 1Gi
        name: job-task
        pull_policy: Always
        volumeMounts:
          - mountPath: /creds.json
            name: sower-jobs-creds-volume
            readOnly: true
            subPath: creds.json
      name: manifest-indexing
      restart_policy: Never
      serviceAccountName: jobs-data-bloodpac-org
      volumes:
        - name: sower-jobs-creds-volume
          secret:
            secretName: sower-jobs-g3auto
    - action: merge-manifests
      activeDeadlineSeconds: 86400
      container:
        cpu-limit: "1"
        env:
          - name: GEN3_HOSTNAME
            valueFrom:
              configMapKeyRef:
                key: hostname
                name: manifest-global
        image: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/cdis/manifest-merging:2025.07
        memory-limit: 1Gi
        name: job-task
        pull_policy: Always
        volumeMounts:
          - mountPath: /creds.json
            name: sower-jobs-creds-volume
            readOnly: true
            subPath: creds.json
      name: manifest-merging
      restart_policy: Never
      serviceAccountName: jobs-data-bloodpac-org
      volumes:
        - name: sower-jobs-creds-volume
          secret:
            secretName: sower-jobs-g3auto
    - action: download-indexd-manifest
      activeDeadlineSeconds: 86400
      container:
        cpu-limit: "1"
        env:
          - name: GEN3_HOSTNAME
            valueFrom:
              configMapKeyRef:
                key: hostname
                name: manifest-global
        image: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/download-indexd-manifest:2025.07
        memory-limit: 1Gi
        name: job-task
        pull_policy: Always
        volumeMounts:
          - mountPath: /creds.json
            name: sower-jobs-creds-volume
            readOnly: true
            subPath: creds.json
      name: indexd-manifest
      restart_policy: Never
      serviceAccountName: jobs-data-bloodpac-org
      volumes:
        - name: sower-jobs-creds-volume
          secret:
            secretName: sower-jobs-g3auto
spark:
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/gen3-spark
    tag: "2025.07"
ssjdispatcher:
  enabled: true
  gen3Namespace: bloodv2-helm
  externalSecrets:
    credsFile: bloodv2-ssjdispatcher-creds
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/ssjdispatcher
    tag: "2025.07"
  indexing: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/indexs3client:2025.07
tube:
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/tube
    tag: "2025.07"
wts:
  enabled: true
  externalSecrets:
    createWtsOidcClientSecret: false
    wtsG3auto: bloodv2-wts-g3auto
    wtsOidcClient: bloodv2-wts-client-secret
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/workspace-token-service
    tag: "2025.07"
