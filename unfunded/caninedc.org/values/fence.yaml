fence:
  resources:
    requests:
      memory: 105Mi
      cpu: 15m
  enabled: true
  replicaCount: 2
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/fence
    tag: '2025.10'
  podAnnotations:
    prometheus.io/path: /metrics
    prometheus.io/scrape: 'true'
  usersync:
    usersync: true
    userYamlS3Path: s3://cdis-gen3-users/canine/user.yaml
  USER_YAML: null
  externalSecrets:
    createK8sJwtKeysSecret: false
    createK8sGoogleAppSecrets: true
    fenceJwtKeys: canine-fence-jwt
    fenceGoogleAppCredsSecret: null
    fenceGoogleStorageCredsSecret: null
    fenceConfig: canine-fence-config
    dbcreds: canineprod-fence
  FENCE_CONFIG_PUBLIC:
    APP_NAME: Gen3 Data Commons
    BASE_URL: https://caninedc.org/user
    DEBUG: false
    MOCK_AUTH: false
    MOCK_GOOGLE_AUTH: false
    MOCK_STORAGE: true
    SESSION_COOKIE_SECURE: true
    ENABLE_CSRF_PROTECTION: true
    OAUTH2_JWT_ALG: RS256
    OAUTH2_JWT_ENABLED: true
    OAUTH2_JWT_ISS: '{{BASE_URL}}'
    OAUTH2_PROVIDER_ERROR_URI: /api/oauth2/errors
    APPLICATION_ROOT: /user
    ACCESS_TOKEN_COOKIE_NAME: access_token
    SESSION_COOKIE_NAME: fence
    OAUTH2_TOKEN_EXPIRES_IN:
      authorization_code: 1200
      implicit: 1200
    ACCESS_TOKEN_EXPIRES_IN: 1200
    REFRESH_TOKEN_EXPIRES_IN: 2592000
    SESSION_LIFETIME: 28800
    GOOGLE_SERVICE_ACCOUNT_KEY_FOR_URL_SIGNING_EXPIRES_IN: 2592000
    GOOGLE_USER_SERVICE_ACCOUNT_ACCESS_EXPIRES_IN: 604800
    GOOGLE_ACCOUNT_ACCESS_EXPIRES_IN: 86400
    MAX_PRESIGNED_URL_TTL: 3600
    MAX_API_KEY_TTL: 2592000
    MAX_ACCESS_TOKEN_TTL: 3600
    SHIBBOLETH_HEADER: persistent_id
    SSO_URL: https://auth.nih.gov/affwebservices/public/saml2sso?SPID={{BASE_URL}}/shibboleth&RelayState=
    ITRUST_GLOBAL_LOGOUT: https://auth.nih.gov/siteminderagent/smlogout.asp?mode=nih&AppReturnUrl=
    S3_BUCKETS:
      canineprod-data-bucket:
        cred: canineprod_fence-bot
    DATA_UPLOAD_BUCKET: canineprod-data-bucket
    ENABLE_PROMETHEUS_METRICS: true
    ENABLE_DB_MIGRATION: true
