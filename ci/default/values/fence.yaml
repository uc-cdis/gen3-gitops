fence:
  FENCE_CONFIG_PUBLIC:
    ACCESS_TOKEN_COOKIE_NAME: access_token
    ACCESS_TOKEN_EXPIRES_IN: 1200
    ALLOWED_USER_SERVICE_ACCOUNT_DOMAINS:
    - developer.gserviceaccount.com
    - appspot.gserviceaccount.com
    - iam.gserviceaccount.com
    ALLOW_GOOGLE_LINKING: true
    APPLICATION_ROOT: /user
    APP_NAME: fence
    ARBORIST: http://arborist-service
    ASSUME_ROLE_CACHE_SECONDS: 1800
    AUDIT_SERVICE: http://audit-service
    AUTHLIB_INSECURE_TRANSPORT: true
    BASE_URL: https://HOSTNAME/user
    BILLING_PROJECT_FOR_SA_CREDS: null
    BILLING_PROJECT_FOR_SIGNED_URLS: null
    CLIENT_ALLOWED_SCOPES:
    - openid
    - user
    - data
    - google_credentials
    - google_service_account
    - google_link
    - ga4gh_passport_v1
    DATA_UPLOAD_BUCKET: gen3-helm-data-upload-bucket
    DBGAP_ACCESSION_WITH_CONSENT_REGEX: (?P<phsid>phs[0-9]+)(.(?P<version>v[0-9]+)){0,1}(.(?P<participant_set>p[0-9]+)){0,1}.(?P<consent>c[0-9]+)
    DEBUG: false
    DEFAULT_LOGIN_IDP: google
    DEV_LOGIN_COOKIE_NAME: dev_login
    ENABLE_AUDIT_LOGS:
      login: true
      presigned_url: true
    ENABLE_AUTOMATIC_BILLING_PERMISSION_SA_CREDS: false
    ENABLE_AUTOMATIC_BILLING_PERMISSION_SIGNED_URLS: false
    ENABLE_CSRF_PROTECTION: true
    ENABLE_DB_MIGRATION: true
    ENABLE_PROMETHEUS_METRICS: false
    GA4GH_VISA_ISSUER_ALLOWLIST:
    - '{{BASE_URL}}'
    - https://sts.nih.gov
    - https://stsstg.nih.gov
    GEN3_PASSPORT_EXPIRES_IN: 43200
    GLOBAL_PARSE_VISAS_ON_LOGIN: false
    GOOGLE_ACCOUNT_ACCESS_EXPIRES_IN: 86400
    GOOGLE_BULK_UPDATES: true
    GOOGLE_GROUP_PREFIX: null
    GOOGLE_MANAGED_SERVICE_ACCOUNT_DOMAINS:
    - dataflow-service-producer-prod.iam.gserviceaccount.com
    - cloudbuild.gserviceaccount.com
    - cloud-ml.google.com.iam.gserviceaccount.com
    - container-engine-robot.iam.gserviceaccount.com
    - dataflow-service-producer-prod.iam.gserviceaccount.com
    - sourcerepo-service-accounts.iam.gserviceaccount.com
    - dataproc-accounts.iam.gserviceaccount.com
    - gae-api-prod.google.com.iam.gserviceaccount.com
    - genomics-api.google.com.iam.gserviceaccount.com
    - containerregistry.iam.gserviceaccount.com
    - container-analysis.iam.gserviceaccount.com
    - cloudservices.gserviceaccount.com
    - stackdriver-service.iam.gserviceaccount.com
    - appspot.gserviceaccount.com
    - partnercontent.gserviceaccount.com
    - trifacta-gcloud-prod.iam.gserviceaccount.com
    - gcf-admin-robot.iam.gserviceaccount.com
    - compute-system.iam.gserviceaccount.com
    - gcp-sa-websecurityscanner.iam.gserviceaccount.com
    - storage-transfer-service.iam.gserviceaccount.com
    - firebase-sa-management.iam.gserviceaccount.com
    - firebase-rules.iam.gserviceaccount.com
    - gcp-sa-cloudbuild.iam.gserviceaccount.com
    - gcp-sa-automl.iam.gserviceaccount.com
    - gcp-sa-datalabeling.iam.gserviceaccount.com
    - gcp-sa-cloudscheduler.iam.gserviceaccount.com
    GOOGLE_SERVICE_ACCOUNT_KEY_FOR_URL_SIGNING_EXPIRES_IN: 2592000
    GOOGLE_SERVICE_ACCOUNT_PREFIX: null
    GOOGLE_USER_SERVICE_ACCOUNT_ACCESS_EXPIRES_IN: 604800
    HTTP_PROXY:
      host: cloud-proxy.internal.io
      port: 3128
    INDEXD: http://indexd-service
    INDEXD_PASSWORD: ''
    INDEXD_USERNAME: fence
    ITRUST_GLOBAL_LOGOUT: https://auth.nih.gov/siteminderagent/smlogout.asp?mode=nih&AppReturnUrl=
    LOGIN_OPTIONS:
    - idp: google
      name: Login from Google
    - fence_idp: orcid
      idp: fence
      name: ORCID Login
    - idp: ras
      name: Login from RAS
    LOGIN_REDIRECT_WHITELIST:
    - .
    - /login
    MAX_ACCESS_TOKEN_TTL: 3600
    MAX_API_KEY_TTL: 2592000
    MAX_PRESIGNED_URL_TTL: 3600
    MAX_ROLE_SESSION_INCREASE: false
    MOCK_AUTH: false
    MOCK_GOOGLE_AUTH: true
    MOCK_STORAGE: false
    OAUTH2_JWT_ALG: RS256
    OAUTH2_JWT_ENABLED: true
    OAUTH2_JWT_ISS: '{{BASE_URL}}'
    OAUTH2_PROVIDER_ERROR_URI: /api/oauth2/errors
    OAUTH2_TOKEN_EXPIRES_IN:
      authorization_code: 1200
      implicit: 1200
    OVERRIDE_NGINX_RATE_LIMIT: 18
    PRIVACY_POLICY_URL: null
    PUSH_AUDIT_LOGS_CONFIG:
      aws_sqs_config:
        aws_cred: cdistest
        region: us-east-1
        sqs_url: https://sqs.us-east-1.amazonaws.com/707767160287/audit-service-sqs
      type: aws_sqs
    RAS_REFRESH_EXPIRATION: 1296000
    RAS_USERINFO_ENDPOINT: /openid/connect/v1.1/userinfo
    REFRESH_TOKEN_EXPIRES_IN: 2592000
    REGISTERED_USERS_GROUP: ''
    REGISTER_USERS_ON: true
    RENEW_ACCESS_TOKEN_BEFORE_EXPIRATION: false
    S3_BUCKETS:
      cdis-presigned-url-test:
        cred: cdistest
        region: us-east-1
      gen3-helm-data-upload-bucket:
        cred: cdistest
        region: us-east-1
    SERVICE_ACCOUNT_LIMIT: 6
    SESSION_ALLOWED_SCOPES:
    - openid
    - user
    - credentials
    - data
    - admin
    - google_credentials
    - google_service_account
    - google_link
    - ga4gh_passport_v1
    SESSION_COOKIE_DOMAIN: null
    SESSION_COOKIE_NAME: fence
    SESSION_COOKIE_SECURE: true
    SESSION_LIFETIME: 28800
    SESSION_TIMEOUT: 1800
    SHIBBOLETH_HEADER: persistent_id
    SSO_URL: https://auth.nih.gov/affwebservices/public/saml2sso?SPID={{BASE_URL}}/shibboleth&RelayState=
    STORAGE_CREDENTIALS:
      google:
        backend: google
        google_project_id: dcf-integration
    SUPPORT_EMAIL_FOR_ERRORS: null
    TOKEN_PROJECTS_CUTOFF: 10
    USERSYNC:
      fallback_to_dbgap_sftp: false
      sync_from_visas: false
      visa_types:
        ras:
        - https://ras.nih.gov/visas/v1
        - https://ras.nih.gov/visas/v1.1
    USER_ALLOWED_SCOPES:
    - fence
    - openid
    - user
    - data
    - admin
    - google_credentials
    - google_service_account
    - google_link
    - ga4gh_passport_v1
    WHITE_LISTED_GOOGLE_PARENT_ORGS: []
    WTF_CSRF_SECRET_KEY: '{{ENCRYPTION_KEY}}'
  externalSecrets:
    createK8sGoogleAppSecrets: false
    createK8sJwtKeysSecret: false
    fenceConfig: ci-fence-config-priv
    fenceGoogleAppCredsSecret: ci-fence-google-app-creds-secret
    fenceGoogleStorageCredsSecret: ci-fence-google-storage-creds-secret
    fenceJwtKeys: ci-fence-jwt
    fenceSshKeys: ci-fence-ssh-keys
  fenceDeleteExpiredClients:
    schedule: 0 0 * * *
  image:
    pullPolicy: IfNotPresent
    repository: quay.io/cdis/fence
    tag: null
  replicaCount: 2
  usersync:
    schedule: 0 0 31 2 *
    syncFromDbgap: true
    userYamlS3Path: s3://cdis-gen3-users/ci/user.yaml
    usersync: true
