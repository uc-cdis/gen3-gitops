ambassador:
  jupyterNamespace: "jupyter-pods"
  replicaCount: 2
arborist:
  replicaCount: 2
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/arborist
    tag: '2025.04'
audit:
  replicaCount: 2
  externalSecrets:
    auditG3auto: pdp-commons-audit-g3auto
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::851725307933:role/pdp-commons--pdp-commons-helm--audit-sqs-receiver
aws-es-proxy:
  enabled: true
  replicaCount: 2
  esEndpoint: vpc-pdp-commons-gen3-metadata-2-uxeiendqin66xtsv6p4h3upv5u.us-east-1.es.amazonaws.com
  image:
    repository: quay.io/cdis/aws-es-proxy
    tag: v1.3.1
dashboard:
  dashboardConfig:
    bucket: dashboard-851725307933-pdp-commons-gen3
    prefix: mc2dp.data-commons.org
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/gen3-statics
    tag: '2025.04'
  podSecurityContext:
    fsGroup: 1001
  securityContext:
    {}
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::851725307933:role/pdp-commons--pdp-commons-helm--dashboard-access
fence:
  replicaCount: 2
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::851725307933:role/pdp-commons--pdp-commons-helm--audit-sqs-sender
  enabled: true
  externalSecrets:
    createK8sGoogleAppSecrets: true
    fenceConfig: pdp-commons-fence-config
    fenceJwtKeys: pdp-commons-fence-jwt
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/fence
    tag: '2025.07'
  usersync:
    usersync: true
    userYamlS3Path: s3://cdis-gen3-users/pdp/user.yaml
fluentd:
  enabled: true
  image:
    repository: fluent/fluentd-kubernetes-daemonset
    tag: v1.15.3-debian-cloudwatch-1.0
frontend-framework:
  replicaCount: 2
  enabled: true
  image:
    repository: quay.io/cdis/mc2dp-data-platform
    tag: main
gen3-user-data-library:
  enabled: true
  replicaCount: 2
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/gen3-user-data-library
    tag: main
  externalSecrets:
    dbcreds: pdp-commons-gen3userdatalibrary-creds
    gen3UserDataLibraryG3auto: pdp-commons-gen3userdatalibrary-g3auto
global:
  pdb: true
  aws:
    account: '851725307933'
    awsEsProxyRole: pdp-commons--pdp-commons-helm--es-access
    enabled: true
    hatchery_role: pdp-commons--pdp-commons-helm--hatchery-sa
    secretStoreServiceAccount:
      enabled: true
      roleArn: arn:aws:iam::851725307933:role/pdp-commons--pdp-commons-helm--external-secrets-sa
    wafv2:
      # -- (bool) Set to true if using AWS WAFv2
      enabled: true
      # -- (string) ARN for the WAFv2 ACL.
      wafAclArn: arn:aws:wafv2:us-east-1:851725307933:regional/webacl/pdp-commons-waf/9609720f-857d-4033-bf1f-2e9e9665a638
  dev: false
  dictionaryUrl: https://s3.amazonaws.com/dictionary-artifacts/pdp_dictionary/0.0.5/schema.json
  dispatcherJobNum: '10'
  environment: pdp-commons
  externalSecrets:
    deploy: true
    createSlackWebhookSecret: true
    slackWebhookSecretName: "pdp-commons-slack-webhook"
  frontendRoot: gen3ff
  hostname: mc2dp.data-commons.org
  fenceURL: https://mc2dp.data-commons.org/user
  # netPolicy:
  #   enabled: true
  #   dbSubnet:
  manifestGlobalExtraValues:
    ecr-access-job-role-arn: arn:aws:iam::654654631253:role/EcrRepoPolicyUpdateRole
    kube_bucket: kube_bucket.devplanetv1.gen3
    logs_bucket: logs-devplanetv1-gen3
  publicDataSets: true
  tierAccessLevel: libre
  tierAccessLimit: 50
  portalApp: gitops
  postgres:
    dbCreate: false
  revproxyArn: arn:aws:acm:us-east-1:851725307933:certificate/cc4b5ee2-be5a-4772-9b1c-66b7dae46abf

guppy:
  configIndex: pdp-commons-commons-config-index
  enabled: true
  esEndpoint: http://elasticsearch:9200
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/guppy
    tag: '2025.04'
  indices:
  - index: pdp-commons-commons-index
    type: metadata
hatchery:
  enabled: true
  replicaCount: 2
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/hatchery
    tag: '2025.04'
  hatchery:
    json: |
        {
            "user-namespace": "jupyter-pods",
            "sub-dir": "/lw-workspace",
            "user-volume-size": "10Gi",
            "default-pay-model": {
                "workspace_type": "Trial Workspace",
                "local": true
            },
            "sidecar": {
                "cpu-limit": "1.0",
                "memory-limit": "256Mi",
                "image": "707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/ecs-ws-sidecar:2025.03",
                "env": {
                    "NAMESPACE": "default",
                    "HOSTNAME": "mc2dp.data-commons.org"
                },
                "args": [],
                "command": [
                    "/bin/bash",
                    "./sidecar.sh"
                ],
                "lifecycle-pre-stop": [
                    "su",
                    "-c",
                    "echo test",
                    "-s",
                    "/bin/sh",
                    "root"
                ]
            },
            "containers": [
                {
                    "target-port": 8888,
                    "cpu-limit": "1.0",
                    "memory-limit": "4Gi",
                    "name": "(Generic) Jupyter Lab Notebook with R Kernel",
                    "image": "707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/jupyter-prometheus:prometheus-master",
                    "env": {
                        "FRAME_ANCESTORS": "https://mc2dp.data-commons.org"
                    },
                    "args": [
                        "--NotebookApp.base_url=/lw-workspace/proxy/",
                        "--NotebookApp.default_url=/lab",
                        "--NotebookApp.password=''",
                        "--NotebookApp.token=''",
                        "--NotebookApp.ip='*'",
                        "--NotebookApp.notebook_dir='/home/jovyan'",
                        "--NotebookApp.shutdown_no_activity_timeout=5400",
                        "--NotebookApp.quit_button=False"
                    ],
                    "command": [
                        "start-notebook.sh"
                    ],
                    "path-rewrite": "/lw-workspace/proxy/",
                    "use-tls": "false",
                    "ready-probe": "/lw-workspace/proxy/",
                    "lifecycle-post-start": [
                        "/bin/sh",
                        "-c",
                        "export IAM=`whoami`; rm -rf /home/$IAM/pd/dockerHome; rm -rf /home/$IAM/pd/lost+found; ln -s /data /home/$IAM/pd/; true"
                    ],
                    "user-uid": 1000,
                    "fs-gid": 100,
                    "user-volume-location": "/home/jovyan/pd",
                    "gen3-volume-location": "/home/jovyan/.gen3"
                }
            ]
        }
indexd:
  replicaCount: 2
  enabled: true
  externalSecrets:
    serviceCreds: pdp-commons-indexd-service-creds
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/indexd
    tag: '2025.04'
manifestservice:
  replicaCount: 2
  enabled: true
  externalSecrets:
    manifestserviceG3auto: pdp-commons-manifestservice-g3auto
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/manifestservice
    tag: '2025.04'
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: arn:aws:iam::851725307933:role/pdp-commons--pdp-commons-helm--manifest-service-sa
metadata:
  aggMdsConfig: |
    {
      "configuration": {
        "schema": {
          "_subjects_count": {
            "type": "integer"
          },
          "_manifest": {
            "type": "array",
            "properties": {
              "file_name": {
                "type": "string"
              },
              "file_size": {
                "type": "integer"
              }
            }
          },
          "tags": {
            "type": "array"
          },
          "advSearchFilters": {
            "type": "array",
            "default": []
          },
          "_unique_id": {},
          "study_description": {},
          "study_id": {},
          "study_url": {},
          "project_id": {},
          "short_name": {},
          "full_name": {},
          "commons_url": {},
          "commons": {},
          "data_source": {},
          "disease_type": {},
          "primary_site": {},
          "authz": {},
          "subject_id": {},
          "subject_id_list": {
            "type": "array",
            "default": []
          },
          "subject_apollo_id": {},
          "subject_race": {},
          "subject_gender": {},
          "subject_ethnicity": {},
          "subject_metastasis": {},
          "subject_cancer_type": {},
          "subject_cancer_grade": {},
          "subject_cancer_stage": {},
          "subject_year_of_birth": {},
          "subject_days_to_birth": {
            "type": "integer"},
          "subject_primary_disease": {},
          "subject_type_of_exposure": {},
          "subject_type_of_exposures": {
            "type": "array"
          },
          "subject_chemical_agents_of_exposure": {},
          "mc2dp_global_id": {},
          "studies": {
            "type": "array"
          },
          "data_files": {
            "type": "array"
          },
          "filesCount": {
            "type": "array",
            "properties": {
              "_typename": {
                "type": "string"
              },
              "data_category": {
                "type": "string"
              },
              "file_type": {
                "type": "string"
              },
              "files_count": {
                "type": "integer"
              }
            }
          },
          "versions": {
            "type": "array",
            "properties": {
              "_typename": {
                "type": "string"
              },
              "number": {
                "type": "string"
              }
            }
          },
          "supplementaryFilesCount": {
            "type": "array",
            "properties": {
              "_typename": {
                "type": "string"
              },
              "data_category": {
                "type": "string"
              },
              "file_type": {
                "type": "string"
              },
              "files_count": {
                "type": "integer"
              }
            }
          },
          "nonSupplementaryFilesCount": {
            "type": "array",
            "properties": {
              "_typename": {
                "type": "string"
              },
              "data_category": {
                "type": "string"
              },
              "file_type": {
                "type": "string"
              },
              "files_count": {
                "type": "integer"
              }
            }
          }
        },
        "settings": {
          "cache_drs": true
        }
      },
      "adapter_commons": {
        "BloodPAC-subject-level-metadata": {
          "mds_url": "https://data.bloodpac.org/",
          "commons_url": "data.bloodpac.org",
          "adapter": "gen3",
          "config": {
            "guid_type": "promethueus_subject_metadata",
            "study_field": "gen3_discovery"
          },
          "keep_original_fields": false,
          "field_mappings": {
            "authz": "path:auth_resource_path",
            "tags": {
              "path": "tags",
              "filters": [
                "normalize_tags"
              ],
              "filterParams": {
                "normalize_tags": {
                  "gender": {
                    "M": "Male",
                    "F": "Female",
                    "male": "Male",
                    "female": "Female"
                  },
                  "ethnicity": {
                    "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                    "not reported": "Not Reported",
                    "DECLINED TO ANSWER": "Declined to Answer",
                    "HISPANIC OR LATINO": "Hispanic or Latino"
                  },
                  "cancer_grade": {
                    "Grade 1": "I",
                    "G1": "I",
                    "Grade I": "I",
                    "Grade 2": "II",
                    "G2": "II",
                    "Grade II": "II",
                    "Grade 3": "III",
                    "G3": "III",
                    "Grade III": "III",
                    "Grade 4": "IV",
                    "G4": "IV",
                    "Grade IV": "IV"
                  },
                  "cancer_stage": {
                    "Stage IA": "IA",
                    "Stage IIA": "IIA",
                    "Stage IIIA": "IIIA",
                    "Stage IB": "IB",
                    "Stage IV": "IV",
                    "Stage IIB": "IIB",
                    "Stage I": "I",
                    "Stage II": "II",
                    "Stage III": "III"
                  }
                }
              }
            },
            "_unique_id": "path:_unique_id",
            "commons": "path:commons",
            "subject_id": "path:_unique_id",
            "subject_apollo_id": "",
            "subject_race": "path:race",
            "subject_gender": "path:gender",
            "subject_ethnicity": "path:ethnicity",
            "subject_metastasis": "path:metastasis",
            "subject_cancer_type": "path:cancer_type",
            "subject_cancer_grade": {
              "path": "cancer_grade",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Grade 1": "I",
                  "G1": "I",
                  "Grade I": "I",
                  "Grade 2": "II",
                  "G2": "II",
                  "Grade II": "II",
                  "Grade 3": "III",
                  "G3": "III",
                  "Grade III": "III",
                  "Grade 4": "IV",
                  "G4": "IV",
                  "Grade IV": "IV"
                }
              },
              "default": ""
            },
            "subject_cancer_stage": {
              "path": "cancer_stage",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Stage IA": "IA",
                  "Stage IIA": "IIA",
                  "Stage IIIA": "IIIA",
                  "Stage IB": "IB",
                  "Stage IV": "IV",
                  "Stage IIB": "IIB",
                  "Stage I": "I",
                  "Stage II": "II",
                  "Stage III": "III"
                }
              },
              "default": ""
            },
            "subject_year_of_birth": "path:year_of_birth",
            "subject_primary_disease": "path:primary_disease",
            "commons_url": "data.bloodpac.org",
            "data_source": "BLOODPAC",
            "mc2dp_global_id": "path:mc2dp_global_id",
            "is_synthetic": "Yes"
          }
        },
        "VPODC-subject-level-metadata": {
          "mds_url": "https://vpodc.data-commons.org/",
          "commons_url": "vpodc.data-commons.org",
          "adapter": "gen3",
          "config": {
            "guid_type": "patient_metadata",
            "study_field": "gen3_discovery"
          },
          "keep_original_fields": false,
          "field_mappings": {
            "authz": "path:authz",
            "tags": {
              "path": "tags",
              "filters": [
                "normalize_tags"
              ],
              "filterParams": {
                "normalize_tags": {
                  "gender": {
                    "M": "Male",
                    "F": "Female",
                    "male": "Male",
                    "female": "Female"
                  },
                  "ethnicity": {
                    "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                    "not reported": "Not Reported",
                    "DECLINED TO ANSWER": "Declined to Answer",
                    "HISPANIC OR LATINO": "Hispanic or Latino"
                  },
                  "cancer_grade": {
                    "Grade 1": "I",
                    "G1": "I",
                    "Grade I": "I",
                    "Grade 2": "II",
                    "G2": "II",
                    "Grade II": "II",
                    "Grade 3": "III",
                    "G3": "III",
                    "Grade III": "III",
                    "Grade 4": "IV",
                    "G4": "IV",
                    "Grade IV": "IV"
                  },
                  "cancer_stage": {
                    "Stage IA": "IA",
                    "Stage IIA": "IIA",
                    "Stage IIIA": "IIIA",
                    "Stage IB": "IB",
                    "Stage IV": "IV",
                    "Stage IIB": "IIB",
                    "Stage I": "I",
                    "Stage II": "II",
                    "Stage III": "III"
                  }
                }
              }
            },
            "advSearchFilters": {
              "path": "filters"
            },
            "_unique_id": "path:case_submitter_id",
            "commons": {
              "path": "platform_id",
              "default": ""
            },
            "subject_id": "",
            "subject_apollo_id": "",
            "subject_race": {
              "path": "race",
              "default": ""
            },
            "subject_gender": {
              "path": "gender",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "M": "Male",
                  "F": "Female",
                  "male": "Male",
                  "female": "Female",
                  "not reported": "Not Reported"
                }
              },
              "default": ""
            },
            "subject_ethnicity": {
              "path": "ethnicity",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                  "not reported": "Not Reported",
                  "DECLINED TO ANSWER": "Declined to Answer",
                  "HISPANIC OR LATINO": "Hispanic or Latino"
                }
              },
              "default": ""
            },
            "subject_metastasis": {
              "path": "metastasis",
              "default": ""
            },
            "subject_cancer_type": {
              "path": "cancer_type",
              "default": ""
            },
            "subject_cancer_grade": {
              "path": "cancer_grade",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Grade 1": "I",
                  "G1": "I",
                  "Grade I": "I",
                  "Grade 2": "II",
                  "G2": "II",
                  "Grade II": "II",
                  "Grade 3": "III",
                  "G3": "III",
                  "Grade III": "III",
                  "Grade 4": "IV",
                  "G4": "IV",
                  "Grade IV": "IV"
                }
              },
              "default": ""
            },
            "subject_cancer_stage": {
              "path": "cancer_stage",
              "filterParams": {
                "normalize_value": {
                  "Stage IA": "IA",
                  "Stage IIA": "IIA",
                  "Stage IIIA": "IIIA",
                  "Stage IB": "IB",
                  "Stage IV": "IV",
                  "Stage IIB": "IIB",
                  "Stage I": "I",
                  "Stage II": "II",
                  "Stage III": "III"
                }
              },
              "default": ""
            },
            "subject_days_to_birth": {
              "path": "days_to_birth",
              "default": ""
            },
            "subject_primary_disease": {
              "path": "primary_disease",
              "default": ""
            },
            "commons_url": "vpodc.data-commons.org",
            "data_source": "VPODC",
            "mc2dp_global_id": "path:mc2dp_global_id",
            "is_synthetic": "No"
          },
          "per_item_values": {
            "synth_12345": {
              "_manifest": [
                {
                  "md5": "44d8497a87b5bb040b09699899b57bff",
                  "file_name": "synth_12345",
                  "file_size": 39953,
                  "object_id": "f5d75619-93fc-4cdb-87e3-4e44523d7a4b",
                  "commons_url": "vpodc.data-commons.org"
                }
              ]
            }
          }
        },
        "APOLLO-subject-level-metadata": {
          "mds_url": "https://api.gdc.cancer.gov/cases?filters=%7B%22op%22:%22and%22,%22content%22:[%7B%22op%22:%22in%22,%22content%22:%7B%22field%22:%22cases.project.program.name%22,%22value%22:[%22APOLLO%22]%7D%7D]%7D&fields=id,submitter_id,demographic.gender,demographic.race,demographic.ethnicity,diagnoses.ajcc_pathologic_m,diagnoses.tumor_grade,diagnoses.ajcc_pathologic_stage,exposures.tobacco_smoking_status,exposures.pack_years_smoked,disease_type,diagnoses.primary_diagnosis,primary_site",
          "commons_url": "api.gdc.cancer.gov",
          "adapter": "gdc",
          "filters": {
            "size": 100
          },
          "keep_original_fields": false,
          "field_mappings": {
            "authz": "/VA",
            "tags": [
              {
                "name": "path:disease_type",
                "category": "disease_type"
              },
              {
                "name": "path:primary_site",
                "category": "primary_site"
              },
              {
                "name": "path:diagnoses[*].primary_diagnosis",
                "category": "Cancer Type"
              },
              {
                "name": "path:diagnoses[*].tumor_grade",
                "category": "Cancer Grade"
              },
              {
                "name": "path:diagnoses[*].ajcc_pathologic_stage",
                "category": "Cancer Stage"
              },
              {
                "name": "path:demographic.gender",
                "category": "Gender"
              },
              {
                "name": "path:demographic.race",
                "category": "Race"
              },
              {
                "name": "path:demographic.ethnicity",
                "category": "Ethnicity"
              },
              {
                "name": "path:diagnoses[*].ajcc_pathologic_m",
                "category": "Metastasis"
              },
              {
                "name": "path:exposures[*].tobacco_smoking_status",
                "category": "Type of Exposure"
              }
            ],
            "_unique_id": "path:id",
            "commons": "GDC",
            "disease_type": "path:disease_type",
            "primary_site": "path:primary_site",
            "subject_id": "path:submitter_id",
            "subject_apollo_id": "path:submitter_id",
            "subject_race": "path:demographic.race",
            "subject_gender": {
              "path": "demographic.gender",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "male": "Male",
                  "female": "Female",
                  "m": "Male",
                  "f": "Female",
                  "not reported": "Not Reported"
                }
              },
              "default": ""
            },
            "subject_ethnicity": {
              "path": "demographic.ethnicity",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                  "not reported": "Not Reported",
                  "DECLINED TO ANSWER": "Declined to Answer",
                  "HISPANIC OR LATINO": "Hispanic or Latino"
                }
              },
              "default": ""
            },
            "subject_metastasis": "path:diagnoses[*].ajcc_pathologic_m",
            "subject_cancer_type": "path:diagnoses[*].primary_diagnosis",
            "subject_cancer_grade": {
              "path": "diagnoses[*].tumor_grade",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Grade 1": "I",
                  "G1": "I",
                  "Grade I": "I",
                  "Grade 2": "II",
                  "G2": "II",
                  "Grade II": "II",
                  "Grade 3": "III",
                  "G3": "III",
                  "Grade III": "III",
                  "Grade 4": "IV",
                  "G4": "IV",
                  "Grade IV": "IV"
                }
              },
              "default": ""
            },
            "subject_cancer_stage": {
              "path": "diagnoses[*].ajcc_pathologic_stage",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Stage IA": "IA",
                  "Stage IIA": "IIA",
                  "Stage IIIA": "IIIA",
                  "Stage IB": "IB",
                  "Stage IV": "IV",
                  "Stage IIB": "IIB",
                  "Stage I": "I",
                  "Stage II": "II",
                  "Stage III": "III"
                }
              },
              "default": ""
            },
            "subject_year_of_birth": "",
            "subject_primary_disease": "path:diagnoses[*].primary_diagnosis",
            "subject_type_of_exposure": "path:exposures[*].tobacco_smoking_status",
            "data_source": "GDC",
            "commons_url": "api.gdc.cancer.gov",
            "is_synthetic": "No"
          }
        },
        "Proteomic-Data-Commons-subject-level-metadata": {
          "mds_url": "https://proteomic.datacommons.cancer.gov/graphql",
          "commons_url": "https://pdc.cancer.gov/pdc/",
          "adapter": "pdcsubject",
          "filters": {},
          "keep_original_fields": false,
          "field_mappings": {
            "authz": "/VA",
            "tags": [
              {
                "name": "path:disease_type",
                "category": "disease_type"
              },
              {
                "name": "path:primary_site",
                "category": "primary_site"
              }
            ],
            "_unique_id": "path:case_submitter_id",
            "commons": "PDC",
            "disease_type": "path:disease_type",
            "primary_site": "path:primary_site",
            "subject_id": "path:case_submitter_id",
            "subject_apollo_id": "path:case_submitter_id",
            "subject_race": "path:race",
            "subject_ethnicity": {
              "path": "demographic.ethnicity",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                  "not reported": "Not Reported",
                  "DECLINED TO ANSWER": "Declined to Answer",
                  "HISPANIC OR LATINO": "Hispanic or Latino"
                }
              },
              "default": ""
            },
            "subject_metastasis": "",
            "subject_cancer_type": "",
            "subject_cancer_grade": {
              "path": "diagnoses[*].tumor_grade",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Grade 1": "I",
                  "G1": "I",
                  "Grade I": "I",
                  "Grade 2": "II",
                  "G2": "II",
                  "Grade II": "II",
                  "Grade 3": "III",
                  "G3": "III",
                  "Grade III": "III",
                  "Grade 4": "IV",
                  "G4": "IV",
                  "Grade IV": "IV"
                }
              },
              "default": ""
            },
            "subject_cancer_stage": {
              "path": "tumor_stage",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Stage IA": "IA",
                  "Stage IIA": "IIA",
                  "Stage IIIA": "IIIA",
                  "Stage IB": "IB",
                  "Stage IV": "IV",
                  "Stage IIB": "IIB",
                  "Stage I": "I",
                  "Stage II": "II",
                  "Stage III": "III"
                }
              },
              "default": ""
            },
            "subject_year_of_birth": "",
            "subject_primary_disease": "path:primary_diagnosis",
            "subject_type_of_exposure": "path:exposures[*].exposure_type",
            "data_source": "PDC",
            "commons_url": "proteomic.datacommons.cancer.gov",
            "is_synthetic": "No"
          }
        },
        "VMOAT-subject-level-metadata": {
          "mds_url": "https://externalgen3.prometheus.data-commons.org/",
          "commons_url": "externalgen3.prometheus.data-commons.org",
          "adapter": "gen3",
          "config": {
            "guid_type": "VMOAT_promethueus_subject_metadata",
            "study_field": "gen3_discovery"
          },
          "keep_original_fields": false,
          "field_mappings": {
            "authz": "path:authz",
            "tags": {
              "path": "tags",
              "filters": [
                "normalize_tags"
              ],
              "filterParams": {
                "normalize_tags": {
                  "gender": {
                    "M": "Male",
                    "F": "Female",
                    "male": "Male",
                    "female": "Female"
                  },
                  "ethnicity": {
                    "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                    "not reported": "Not Reported",
                    "DECLINED TO ANSWER": "Declined to Answer",
                    "HISPANIC OR LATINO": "Hispanic or Latino"
                  },
                  "cancer_grade": {
                    "Grade 1": "I",
                    "G1": "I",
                    "Grade I": "I",
                    "Grade 2": "II",
                    "G2": "II",
                    "Grade II": "II",
                    "Grade 3": "III",
                    "G3": "III",
                    "Grade III": "III",
                    "Grade 4": "IV",
                    "G4": "IV",
                    "Grade IV": "IV"
                  },
                  "cancer_stage": {
                    "Stage IA": "IA",
                    "Stage IIA": "IIA",
                    "Stage IIIA": "IIIA",
                    "Stage IB": "IB",
                    "Stage IV": "IV",
                    "Stage IIB": "IIB",
                    "Stage I": "I",
                    "Stage II": "II",
                    "Stage III": "III"
                  }
                }
              }
            },
            "_unique_id": "path:_unique_id",
            "commons": "VMOAT",
            "subject_id": "path:_unique_id",
            "subject_apollo_id": "path:apollo_id",
            "subject_type_of_exposure": "path:exposure_type",
            "subject_chemical_agents_of_exposure": "path:exposure_agent",
            "data_source": "path:data_source",
            "commons_url": "externalgen3.prometheus.data-commons.org",
            "mc2dp_global_id": "path:mc2dp_global_id",
            "is_synthetic": "Yes"
          }
        },
        "Metabolomic-subject-level-metadata": {
          "mds_url": "https://externalgen3.prometheus.data-commons.org/",
          "commons_url": "externalgen3.prometheus.data-commons.org",
          "adapter": "gen3",
          "config": {
            "guid_type": "Metabolomic_promethueus_subject_metadata",
            "study_field": "gen3_discovery"
          },
          "keep_original_fields": false,
          "field_mappings": {
            "authz": "path:authz",
            "tags": {
              "path": "tags",
              "filters": [
                "normalize_tags"
              ],
              "filterParams": {
                "normalize_tags": {
                  "gender": {
                    "M": "Male",
                    "F": "Female",
                    "male": "Male",
                    "female": "Female"
                  },
                  "ethnicity": {
                    "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                    "not reported": "Not Reported",
                    "DECLINED TO ANSWER": "Declined to Answer",
                    "HISPANIC OR LATINO": "Hispanic or Latino"
                  },
                  "cancer_grade": {
                    "Grade 1": "I",
                    "G1": "I",
                    "Grade I": "I",
                    "Grade 2": "II",
                    "G2": "II",
                    "Grade II": "II",
                    "Grade 3": "III",
                    "G3": "III",
                    "Grade III": "III",
                    "Grade 4": "IV",
                    "G4": "IV",
                    "Grade IV": "IV"
                  },
                  "cancer_stage": {
                    "Stage IA": "IA",
                    "Stage IIA": "IIA",
                    "Stage IIIA": "IIIA",
                    "Stage IB": "IB",
                    "Stage IV": "IV",
                    "Stage IIB": "IIB",
                    "Stage I": "I",
                    "Stage II": "II",
                    "Stage III": "III"
                  }
                }
              }
            },
            "_unique_id": "path:_unique_id",
            "commons": "Metabolomics",
            "subject_id": "path:subject_id",
            "subject_apollo_id": "path:apollo_id",
            "subject_race": "",
            "subject_gender": {
              "path": "demographic.gender",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "male": "Male",
                  "female": "Female",
                  "m": "Male",
                  "f": "Female",
                  "not reported": "Not Reported"
                }
              },
              "default": ""
            },
            "subject_ethnicity": {
              "path": "demographic.ethnicity",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                  "not reported": "Not Reported",
                  "DECLINED TO ANSWER": "Declined to Answer",
                  "HISPANIC OR LATINO": "Hispanic or Latino"
                }
              },
              "default": ""
            },
            "subject_metastasis": "",
            "subject_cancer_type": "",
            "subject_cancer_grade": {
              "path": "diagnoses[*].tumor_grade",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Grade 1": "I",
                  "G1": "I",
                  "Grade I": "I",
                  "Grade 2": "II",
                  "G2": "II",
                  "Grade II": "II",
                  "Grade 3": "III",
                  "G3": "III",
                  "Grade III": "III",
                  "Grade 4": "IV",
                  "G4": "IV",
                  "Grade IV": "IV"
                }
              },
              "default": ""
            },
            "subject_cancer_stage": {
              "path": "cancer_stage",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Stage IA": "IA",
                  "Stage IIA": "IIA",
                  "Stage IIIA": "IIIA",
                  "Stage IB": "IB",
                  "Stage IV": "IV",
                  "Stage IIB": "IIB",
                  "Stage I": "I",
                  "Stage II": "II",
                  "Stage III": "III"
                }
              },
              "default": ""
            },
            "subject_year_of_birth": "path:year_of_birth",
            "subject_primary_disease": "",
            "data_source": "path:data_source",
            "sub_data_source": "path:sub_data_source",
            "commons_url": "externalgen3.prometheus.data-commons.org",
            "mc2dp_global_id": "path:mc2dp_global_id",
            "is_synthetic": "No"
          }
        },
        "TCIA-subject-level-metadata": {
          "mds_url": "https://externalgen3.prometheus.data-commons.org/",
          "commons_url": "externalgen3.prometheus.data-commons.org",
          "adapter": "gen3",
          "config": {
            "guid_type": "TCIA_subject_metadata",
            "study_field": "gen3_discovery"
          },
          "keep_original_fields": false,
          "field_mappings": {
            "authz": "",
            "tags": "path:tags",
            "_unique_id": "path:guid",
            "commons": "TCIA",
            "subject_id": "path:subject_id",
            "subject_apollo_id": "path:apollo_id",
            "subject_race": "path:race",
            "subject_gender": {
              "path": "gender",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "male": "Male",
                  "female": "Female",
                  "m": "Male",
                  "f": "Female",
                  "Male": "Male",
                  "Female": "Female",
                  "not reported": "Not Reported",
                  "Not Reported": "Not Reported"
                }
              },
              "default": ""
            },
            "subject_ethnicity": {
              "path": "ethnicity",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                  "not reported": "Not Reported",
                  "Not Reported": "Not Reported",
                  "DECLINED TO ANSWER": "Declined to Answer",
                  "HISPANIC OR LATINO": "Hispanic or Latino"
                }
              },
              "default": ""
            },
            "subject_metastasis": "",
            "subject_cancer_type": "",
            "subject_cancer_grade": {
              "path": "diagnoses[*].tumor_grade",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Grade 1": "I",
                  "G1": "I",
                  "Grade I": "I",
                  "Grade 2": "II",
                  "G2": "II",
                  "Grade II": "II",
                  "Grade 3": "III",
                  "G3": "III",
                  "Grade III": "III",
                  "Grade 4": "IV",
                  "G4": "IV",
                  "Grade IV": "IV"
                }
              },
              "default": ""
            },
            "subject_year_of_birth": "",
            "data_source": "TCIA",
            "commons_url": "externalgen3.prometheus.data-commons.org",
            "mc2dp_global_id": "path:mc2dp_global_id",
            "is_synthetic": "No",
            "studies": "path:studies.*"
          }
        },
        "Windber-subject-level-metadata": {
          "mds_url": "https://t-apps.wriwindber.org/prometheus-mesh-api/v1/metadata",
          "commons_url": "externalgen3.prometheus.data-commons.org",
          "adapter": "windbersubject",
          "config": {
            "guid_type": "Windber_subject_metadata",
            "study_field": "gen3_discovery"
          },
          "keep_original_fields": false,
          "field_mappings": {
            "authz": "",
            "tags": "path:tags",
            "_unique_id": "path:external_windber_id",
            "commons": "Windber",
            "subject_id": "path:external_windber_id",
            "subject_apollo_id": "path:apollo_id",
            "subject_race": "path:race",
            "data_source": "Windber",
            "commons_url": "externalgen3.prometheus.data-commons.org",
            "mc2dp_global_id": "",
            "is_synthetic": "Yes",
            "subject_gender": {
              "path": "gender",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "male": "Male",
                  "female": "Female",
                  "m": "Male",
                  "f": "Female",
                  "Male": "Male",
                  "Female": "Female",
                  "not reported": "Not Reported",
                  "Not Reported": "Not Reported"
                }
              },
              "default": ""
            },
            "subject_ethnicity": {
              "path": "ethnicity",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "NOT HISPANIC OR LATINO": "Not Hispanic or Latino",
                  "not reported": "Not Reported",
                  "Not Reported": "Not Reported",
                  "DECLINED TO ANSWER": "Declined to Answer",
                  "HISPANIC OR LATINO": "Hispanic or Latino",
                  "Not Spanish/Hispanic/Latino": "Not Hispanic or Latino",
                  "Unknown": "Unknown"
                }
              },
              "default": ""
            },
            "subject_metastasis": "",
            "subject_cancer_type": "",
            "subject_cancer_grade": {
              "path": "cancer_grade",
              "filters": [
                "normalize_value"
              ],
              "filterParams": {
                "normalize_value": {
                  "Grade 1": "I",
                  "G1": "I",
                  "Grade I": "I",
                  "Grade 2": "II",
                  "G2": "II",
                  "Grade II": "II",
                  "Grade 3": "III",
                  "G3": "III",
                  "Grade III": "III",
                  "Grade 4": "IV",
                  "G4": "IV",
                  "Grade IV": "IV"
                }
              },
              "default": ""
            }
          }
        },
        "aggregated-subject-level-metadata": {
          "mds_url": "https://externalgen3.prometheus.data-commons.org/",
          "commons_url": "externalgen3.prometheus.data-commons.org",
          "adapter": "gen3",
          "config": {
            "guid_type": "aggmds_metadata_entry",
            "study_field": "gen3_discovery"
          },
          "keep_original_fields": false,
          "field_mappings": {
            "authz": "",
            "tags": "path:tags",
            "_unique_id": "path:mc2dp_global_id",
            "commons": "path:data_source",
            "subject_id_list": "path:data_source_ids",
            "subject_metastasis": "path:metastasis",
            "subject_cancer_type": "path:cancer_type",
            "subject_primary_disease": "path:primary_disease",
            "subject_type_of_exposures": "path:type_of_exposures",
            "data_source": "aggregated data",
            "commons_url": "externalgen3.prometheus.data-commons.org",
            "mc2dp_global_id": "path:mc2dp_global_id",
            "is_synthetic": "No",
            "data_files": "path:data_type"
          }
        }
      }
    }
  aggMdsNamespace: pdp-commons
  enabled: true
  esEndpoint: http://elasticsearch:9200
  externalSecrets:
    metadataG3auto: pdp-commons-metadata-g3auto
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/metadata-service
    tag: master
  useAggMds: true
  replicaCount: 2
mutatingWebhook:
  enabled: false
peregrine:
  enabled: true
  replicaCount: 2
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/peregrine
    tag: '2025.04'
portal:
  enabled: false

requestor:
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/requestor
    tag: '2025.04'
revproxy:
  enabled: true
  replicaCount: 2
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/nginx
    tag: '2025.04'
  ingress:
    aws:
      group: pdp-commons
sheepdog:
  enabled: true
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/sheepdog
    tag: '2025.04'
  replicaCount: 2
ssjdispatcher:
  enabled: false
  externalSecrets:
    credsFile: pdp-commons-ssjdispatcher-creds
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/ssjdispatcher
    tag: '2025.04'
  indexing: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/indexs3client:2025.04
wts:
  enabled: true
  replicaCount: 2
  externalSecrets:
    createWtsOidcClientSecret: false
    wtsG3auto: pdp-commons-wts-g3auto
    wtsOidcClient: pdp-commons-wts-client-secret
  image:
    repository: 707767160287.dkr.ecr.us-east-1.amazonaws.com/gen3/workspace-token-service
    tag: '2025.04'
